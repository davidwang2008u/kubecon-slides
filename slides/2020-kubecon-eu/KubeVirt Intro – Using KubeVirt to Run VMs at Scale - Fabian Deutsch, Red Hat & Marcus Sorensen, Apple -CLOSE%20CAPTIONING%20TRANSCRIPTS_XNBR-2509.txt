KubeVirt Intro – Using KubeVirt to Run VMs at Scale: XNBR-2509 - events@cncf.io - Thursday, August 20, 2020 8:21 AM - 376 minutes

Participant: wordly [W] English (US)

Transcription for wordly [W]

00:02:47 [W] Hey, hello, my name is Fabian Deutsch.
00:08:27 [W] Welcome to this session. Please find a seat and I'll start my screen sharing to get started.
00:08:40 [W] So hello, my name is Fabian torch, and I'm working for Red Hat.
00:08:41 [W] If Marcus it will introduce himself and later on.
00:08:47 [W] We're going to speak about using kubevirt to run VMS at scale.
00:08:52 [W] Before we dive into the topic.
00:08:57 [W] Let's set the context a little bit, right?
00:08:57 [W] The future is bright and it's even brighter with kubernetes.
00:09:00 [W] Kuma Nettie's has seen a tremendous growth. Right and we've seen so many companies and people organizations be interesting kubernative for reason, right?
00:09:16 [W] It's bringing spring value right there new workflows new Concepts new patterns. I think that declarative approach
00:09:19 [W] New networking plugins new alerting monitoring tools auditing tools tracing tools.
00:09:33 [W] There's so much around kubenetes. You see it at every real Cube con. If you go to the Blue Fairy and see how many booths are there from companies and organizations cncf projects, right?
00:09:40 [W] right? And we we are we have the feeling that we sometimes following this wave into the future right? We're getting direct forward in the suction of this wave.
00:09:48 [W] And on this slide you actually see this wave on the right hand side the reddish area. What right which is the search volume for darker.
00:09:58 [W] and
00:09:59 [W] we sometimes our we often actively pursue down this path.
00:10:06 [W] Which volume for darker?
00:10:12 [W] and
00:10:12 [W] we sometimes our we often actively pursue down this path.
00:10:13 [W] We personally or Organization for Developers for eyes and we do it do it for a reason as I said, right the newly established Cloud native patterns of workflows and Technologies actually many of them finding new home in the cncf. They they
00:10:20 [W] Work more efficiently.
00:10:25 [W] They bring benefits to the delivery pipeline to the quality standards with ci/cd, right?
00:10:28 [W] It's a new generation of a set of family of tools and the whole industry is resembling itself around this new container based patterns and concerns.
00:10:39 [W] So me as infrastructure guy.
00:10:44 [W] I still call myself as an infrastructure guy come from that area. Right?
00:10:53 [W] I think we have to or we have to name our developers to leverage this family of tools, right? We need to allow them to play with them to learn them to dump them to to write new applications to solve new problems more efficiently than they did it before.
00:11:00 [W] And isn't it infrastructure of guide just to get back is I think it's our responsibility.
00:11:08 [W] Let's so exaggerating right?
00:11:16 [W] We should build Avenues and bridges to allow them to do that. But we need to enable our developers to work with the Assembly of tools and Technologies.
00:11:23 [W] However, as an infrastructure guy on the other hand or as an organization, right, we see that everything we've built and maintained before just does not go away right a lot of the Legacy.
00:11:32 [W] We piled up in the last decade will remain we need to continue to operate it on this diagram right on the left inside the blue added.
00:11:44 [W] chart no
00:11:47 [W] data points
00:11:49 [W] The third volume around virtual machines, right? And we see a tip on the left for VM sin tip on the right for for containers quotes because it was Stronger but we see the trend right but the blue is actually highlighting how much we've built how much interest
00:12:06 [W] And we need to maintain that we find we need to find a solution what we do this as an infrastructure guy, right?
00:12:14 [W] I need to see how we're doing it right because there's a benefit for running it from for operating it right for providing the services that the beams are providing us today.
00:12:27 [W] Sometimes we can rewrite the application inside the VM to work Cloud native and to run a communities, but sometimes that's not possible and feasible for example from Financial standpoint.
00:12:38 [W] And that's what Q Bert comes in Cuba is a cloud knative computing Foundation sandbox project. We actually entered the sandbox last year and it's mirroring virtual machines and kubenetes. But it's you it's a kubernative sad on
00:12:52 [W] It's using C or D is to extend the kubernative API and its mapping is workloads to pods.
00:13:00 [W] you effectively only need
00:13:02 [W] a single Jama line in order to install it. So how does it look technically?
00:13:08 [W] We've got cube CTL at the top left which used to to interact with with Cuba right as a lot of components and the essence is that we extend the API and we run pots for you which act as vm's and I
00:13:23 [W] Focus to two important areas that actually show the important bits of kubevirt on the left-hand side. You see that Circle which is sucking out the word controller.
00:13:41 [W] This makes cubert declarative just like Kuma knative is right. So you have Yama loodse you define the desired system State or the desired the MCU in this case and the controller and other controllers
00:13:51 [W] Right. So you have Yama loodse you define the desired system State or the desired p.m. Save in this case and the controller and other controllers will make sure to get that system into that state.
00:13:54 [W] or fail, right? So it feels like kubernative the way how you interact with the system is just like kubernative.
00:14:01 [W] On the right hand side. The other is the second important aspect is that to Cube It's a pod and that's fine.
00:14:11 [W] Right we did not want to teach kubernative yet another entity instead.
00:14:16 [W] We wanted to say Parts Remain the atomic compute unit. And that's why the MSR ultimately running inside of policy. This actually enables a few things because first the operator strategy can be kept simple.
00:14:29 [W] It doesn't need to know about two kinds and tools that
00:14:31 [W] Know how to monitor plots for example, the implicitly monitor beams.
00:14:36 [W] Cube CTL will thus be the tool of choice to rule them. All right, so I was already saying we extending the API and you can simply use Cube City at edit Q CD LP H. Cube City will create.
00:14:53 [W] to to work with VMS actually live migration, which I'll get to in a second or handle the very same way with Cube City LTS a companion tool called virt ztl which provides a little bit more convenience like that certain things which are not
00:15:08 [W] living for containers like graphical desktops and understand our present Cube CDL virt ztl allows you to directly connect to the graphical desktop, but it's really the exception virt CD L can be installed as a plug-in to cube City
00:15:24 [W] The graphical desktop, but it's really the exception virt.
00:15:25 [W] qdl can be installed as a plug-in to cube City Hall for example using Crew so What can you manage?
00:15:32 [W] We've got the basics right start stop pause resume live migration might sound odd, but because as I mentioned before puts on like, you know VMS are running inside pods consider the pot to beat the context and then
00:15:42 [W] To the pot to beat the context and then the like migration is nothing else than La than moving approach or the VM from one context to the new the context is the bod.
00:15:54 [W] What's our work and not be like knative just to clarify that point we support multi Network and actually a sorry Network hard using Motors. So we're not inventing something new here.
00:16:04 [W] We just tied into the de facto networking standard, which Motors is one one implementation of we simple block and also file system storage using the system bol.com.
00:16:10 [W] He uses the same mechanism and we've got any of yours maybe by now them or by the time of the session and that PR is actually merged or not the important Point here.
00:16:25 [W] It's mapping to the underlying infrastructure of communities again, so volume snapshots.
00:16:27 [W] Why is that important because the thing to hide out here is that the resources are not managed by kubernative Q Bert is exclusively consuming resources from communities, right?
00:16:42 [W] Sorry. The resources are exclusively consumed from communities Q Bert's not doing any management here.
00:16:49 [W] And that is a few benefits will see in a few slides.
00:16:53 [W] One benefit is that you develop on and only use one platform, right?
00:17:10 [W] On communities you can just use that edid to to really work with both entities.
00:17:19 [W] This enables developers self-service, right and it's actually simplifying and unifying the access to resources in general.
00:17:28 [W] right with pods.
00:17:33 [W] You already have the abstractions like Dynamic provisioning, right which are providing Dynamic access based on the quarter. You have two storage or network is transparently there and as Q versus tying to the same models.
00:17:43 [W] The same workflows or self-service limitations or opportunities apply to Cuba's. Well one interesting part or use case that has emerged relevant for developers is actually Cuban cube, right Hubert is providing you
00:17:58 [W] Kubernative clusters and once you have those VMS and you have Network and you have storage then you can actually easily bring up a kubernative cluster running a communities actually can bring up multiple communities clusters running on a single shared
00:18:14 [W] S infrastructure below their couple of community projects which are focusing this specific use case and that actually is the segue for this slide.
00:18:30 [W] You only have to operate one platform and even the previous case right?
00:18:43 [W] There might be multiple instances of the same platform right here of 10 in clusters using kubenetes and the under kubenetes cluster to host them. It still means that you've got
00:18:44 [W] One system you need to know and one system.
00:18:48 [W] you need to know inside out that's relevant because they're different parties and you company and they need to speak to each other about the system-wide resolving problems. The developer can speak to to the IT department to understand.
00:19:02 [W] understand. Why is my storage provision not working right? And there's only one system to work out not multiple.
00:19:07 [W] Important here is also to node at the with Q Bert.
00:19:16 [W] We're actually setting with setting the stage for where we want to go, right?
00:19:22 [W] We have q Bert you have to opportunity to say this is the ideal architecture.
00:19:25 [W] I wanted to see you in future right?
00:19:30 [W] I would have kubernative at the heart and extend it to support my legacy workloads. As long as I need them.
00:19:31 [W] Now let's get to the heart of this session.
00:19:36 [W] It's relevant because they're different parties in your company and they need to speak to each other about the system-wide resolving problems with developer can speak to to the IT department to understand.
00:19:45 [W] is my storage provisioning not working? Right? And there's only one system to worry about not multiple.
00:19:46 [W] Important here is also to node that that with Q Bert.
00:19:47 [W] We're actually setting with setting the stage for where we want to go, right?
00:19:48 [W] We have q Bert you have to opportunity to say this is the ideal architecture.
00:19:49 [W] I want to pursue in future right?
00:19:50 [W] I would have kubernative at the heart and extended to support my legacy workloads. As long as I need them.
00:19:51 [W] Now let's get to the heart of this session.
00:19:56 [W] I'm to scale just a few words because before I hand over to Marcus so Q Bert in general is adopting patterns from Cube rights adopting controllers and Watchers to efficiently work with or scale out too many entities.
00:19:58 [W] On the Node level. It's actually using.
00:19:58 [W] As I said before network storage and other node level features from kubernative and not inventing their own some both cases on the cluster level because we adopt the same patterns as communities.
00:20:10 [W] We do not we assume that we're not putting an artificial or qubit specific upper bound to this scale from the cluster perspective, right?
00:20:23 [W] Because we adopt the patterns that kubernative itself.
00:20:25 [W] Using also the note level because we are exclusively leveraging kubernative to provide provide and manage the resources.
00:20:38 [W] There are also No Limits from the kubernative + Q Bert perspective in this scale of how these resources can be consumed on the load level or in other words.
00:20:47 [W] words. There should be no Qbert specific limits on the note or cluster level because we inherit most of the stuff from kubernative anyway, so kubernative setting this scaling.
00:20:54 [W] please
00:20:55 [W] In addition kublr slot knative or parts of it are it is in general.
00:21:03 [W] Entities on the Node level. It's actually using
00:21:14 [W] as I said before network storage and other node level features from kubenetes and not inventing their own so in both cases on the cluster level because we adopt the same patterns as communities. We do not
00:21:16 [W] Allowed to support more entities like, you know tens of thousands of yams.
00:21:23 [W] Then the two novels to allow you to to give it more processing power to give the more RAM to give it more Computing threads to deal with that large amount of entities.
00:21:33 [W] with that being said, I would like to head over to Marcus to take it from here and show it how that is looking.
00:21:38 [W] Hi, my name is Marcus Sorensen and I feel thankful and privileged to be able to speak to you today about the kubevirt project at Cube Connie you.
00:21:48 [W] I want to take a minute to introduce myself.
00:21:52 [W] I'm coming to you today from my home in the state of Utah in the United States.
00:21:58 [W] I started my career working in semiconductor Fab ABS in the on-site data centers for Intel and Micron.
00:22:10 [W] was lucky enough to be able to travel across the globe and help set up new semiconductor facilities and the data centers that serve them.
00:22:15 [W] From there. I transitioned to public web hosting.
00:22:20 [W] I worked at Bluehost and endurance International and there I learned a lot about internet traffic networking Technologies.
00:22:27 [W] I learned about multi-tenancy and I learned about how to host Public Services securely and how to automate customer deployments.
00:22:37 [W] Minute to introduce myself.
00:22:47 [W] I'm coming to you today from my home in the state of Utah in the United States.
00:22:47 [W] I started my career working in semiconductor Fabs in the on-site data centers for Intel and Micron.
00:22:48 [W] I was lucky enough to be able to travel across the globe and help set up new semiconductor facilities and the data centers that serve them.
00:22:49 [W] From there. I transitioned to public web hosting.
00:22:50 [W] I worked at Bluehost and endurance International and there I learned a lot about internet traffic networking Technologies.
00:22:51 [W] I learned about multi-tenancy and I learned about how to host Public Services securely and how to automate customer deployments.
00:22:53 [W] That naturally led me to VPS virtual private servers and Cloud Technologies.
00:22:57 [W] I got involved with the Apache cloudstack project and I help them deploy new features and functionality for the KVM hypervisor.
00:22:58 [W] I took cloudstack and combined it with high performance Computing Technologies, like infiniband and scuzzy RDMA storage to create cutting-edge high-performance virtual private Cloud platform.
00:23:08 [W] And now I'm at Apple.
00:23:12 [W] I've been here almost six years and it's always challenging.
00:23:15 [W] It's always rewarding and there are always new problems to solve and that's really what got me into kubevirt.
00:23:23 [W] Now.
00:23:27 [W] I can see that my my audience is super excited to hear everything I have to say about kubevirt.
00:23:29 [W] So let's go ahead and get started.
00:23:32 [W] I'm going to start today by talking about the things that actually attracted me to Q Bert in the first place.
00:23:41 [W] Well, what was it that interested me and got me thinking the kubevirt was worthwhile to participate in then we'll talk about some of the challenges that I ran into which ultimately led to contributions and
00:23:54 [W] Stackrox jecht and I help them deploy new features and functionality for the KVM hypervisor.
00:23:55 [W] I took cloudstack and combined it with high performance Computing Technologies, like infiniband and scuzzy RDMA storage to create cutting-edge high-performance virtual private Cloud platforms.
00:23:56 [W] And now I'm an apple.
00:23:57 [W] I've been here almost six years and it's always challenging.
00:23:57 [W] It's always rewarding and there are always new problems to solve and that's really what got me into kubevirt.
00:23:58 [W] Now.
00:23:59 [W] I can see that my my audience is super excited to hear everything I have to say about kubevirt.
00:24:00 [W] So let's go ahead and get started.
00:24:00 [W] I'm going to start today by talking about the things that actually attracted me to kubevirt in the first place.
00:24:04 [W] Well, what was it that interested me and got me thinking the kubevirt was worthwhile to participate in then I'll talk about some of the challenges that I ran into which ultimately led to contributions and
00:24:05 [W] And Extras that I found handy when using kubevirt, so to get started discussing why kubevirt when kubernative started getting really popular as a data center
00:24:19 [W] I began to wonder me working on Virtual machines.
00:24:26 [W] How can I take advantage of that?
00:24:30 [W] How could I run the workloads that I know need to be virtual machine workloads or things that can't easily be transferred to Containers or take too much effort.
00:24:40 [W] How could I run the plethora of things that I know are bare metal services that RV and services in kubenetes and I wanted I wanted something that didn't require.
00:24:50 [W] ocean of kubenetes itself in require a lot of low level node configurations, and I looked at a few different competing Technologies and I came down to kubevirt one of the awesome things about having
00:25:05 [W] Nettie's with kubeflow uninstalled is that you get this single pane of glass you get one user interface for everybody to run their services whether it's containers or virtual machines people who just need a server or
00:25:20 [W] You know, you can run Windows machines.
00:25:25 [W] you can run appliances and it's all using the same tools.
00:25:31 [W] You can run Cube CTL and you can run you can plug into the API and you can use all the same tooling, you know, you have persistent volume claims and whatever you're using for Ingress and it's all kind of melded together into one
00:25:43 [W] And so those are the things that really brought me into the kubevirt community and got me involved.
00:25:56 [W] Okay. So kubevirt is amazing provides this nice service in your kubernative cluster, but there are some issues that I ran into when I was trying to use it.
00:26:07 [W] The first thing that comes to mind is the virt operator deployment model the virt operator makes it easy to deploy kubevirt into a cluster the kubevirt components.
00:26:14 [W] There are a lot of components that are complex configuration wise and to maintain upgradability and make it easy for people to deploy. We have this operator the problem I ran into was that,
00:26:29 [W] yeah, I found some small tweaks and things that would need to be done to the various kubevirt deployments that I really couldn't do because it was a gated by this virt operator and like Fabien alluded to if you
00:26:45 [W] To scale the resources for your individual deployments.
00:26:53 [W] Maybe you have different priority classes or things you need to change about the way that the individual components are deployed.
00:26:59 [W] It becomes a little bit difficult if you're trying to do that through the virt operator.
00:27:03 [W] So another thing I found was that virt operator requires a lot of privileges, you know needs to install web Hooks and needs to install crd s and so if you are not the owner of the cluster you may
00:27:19 [W] Getting privileges for virt operator to actually do the things it needs to do. So one of the solutions that I found to this was that I can you can actually run virt operator in a mode where
00:27:35 [W] Stall strategy to a config map. And when you do that, you can see everything the virt operator was going to do and you have all the ammo and you can tweak and then deploy that manually how you see fit and I think there's room to
00:27:50 [W] In the community going forward and I hope to be able to work on that.
00:27:59 [W] I'm sure that I'm not the only one that has trouble using the virt operator method of installation.
00:28:08 [W] And so I would like to see a more official and supported way to generate the Cooper deployment configuration.
00:28:17 [W] Another thing that I ran into was that Qbert by default will actually create a self-signed CA.
00:28:21 [W] And it deploys certificates for all of the components, which is really nice.
00:28:28 [W] It makes it easy and it also does rotation often and it uses config maps to deploy those certificates will actually Secrets I guess and config maps to deploy those certificates to all of the deployments and the
00:28:41 [W] And so this comes into play when if you want to run for example VNC or console in order for the authentication to happen from the kubevirt API to the the back end where the cube Handler is.
00:28:57 [W] An authenticated Mutual TLS tunnel created there for your VNC and for your console and so one of the issues with that is that you know, some people don't
00:29:12 [W] Science certs or they'll have an official see a that they want to use. So because of this I thought it would be good to add a configuration that allowed to customer to maintain their own certs
00:29:28 [W] Being that the virt operator is usually creating these certificates and rotating them by using the secrets and config Maps attached to all the kubeflow components.
00:29:44 [W] It should be possible for a user to write a controller.
00:29:46 [W] They can reach out to the see a of their choosing and populate those same secrets and config maps for all of the kubevirt Kube virt components.
00:29:52 [W] And so I'm working on a design in the community to try to make that a permanent feature and kubevirt.
00:30:04 [W] So the customers can integrate with their own Cas. Another thing I ran into was if you try to use a custom cubelet root path que ver would actually break and that was because
00:30:17 [W] Maintaining the containerd disks in certain ways and doing mounts within the node and it was looking for the discs in the wrong place.
00:30:32 [W] And so you would actually end up with VMS that wouldn't actually terminate you have pods that would sit there forever waiting for the disc to be detached and virt Handler didn't know where to find it so
00:30:43 [W] you would actually end up with vm's that wouldn't actually terminate you have pods that would sit there forever waiting for the disc to be detached and virt Handler didn't know where to find it so
00:30:45 [W] Digging but now with kubevirt. There's a new flag. You can add to the virt Handler to tell it where the kubelet route is and that seemed to fix the problem.
00:30:58 [W] I also found an undocumented requirement for net raw Q. Bert was assuming the net raw was a default capability of all of the pods and all of the containers in
00:31:12 [W] And so if you run into a situation where your cluster has disabled net raw as a default capability, then you would run into problems running Qbert.
00:31:24 [W] And finally, I ran into a compatibility problem with Qbert and containerd E. Now. Normally kubeflow.
00:31:36 [W] It is compatible with cryo and it's mostly tested against cryo.
00:31:43 [W] And theoretically it should work with any container runtime, but we found that when running it with containerd e there was a problem in parsing the cgroup.
00:31:55 [W] in the actual cgroup path when I was trying to figure out where some of the container components were and so that was patched and now kubevirt works with containerd e
00:32:07 [W] So let's transition over to some use cases that I found been helpful to me as an infrastructure engineer and things that I've used Cupid for over the last few years.
00:32:20 [W] So again, many of these use cases are geared towards and infrastructure developer, like myself through my own personal lands and things that I found Qbert useful for the first one is a service that
00:32:36 [W] Very uses VMware need and that is template generation.
00:32:42 [W] So I found that I could use the cube for device plug in in order to get access to deaf KVM and with that access I could spin up containers that can run virt install and I'll end up with VM templates so I
00:32:57 [W] all of my VM templates out there inside kubernative
00:33:02 [W] So the way this works is I've got a source repository and I can put Kickstart files in there at the same time.
00:33:10 [W] I deploy a Jenkins deployment into kubernative, but then I can figure Jenkins to have agents that are spun up as pods that have access to deaf KVM.
00:33:25 [W] So when Jenkins sees that my Kickstart files have changed it goes and Spins up an agent as a pod.
00:33:32 [W] With deaf KVM and then some scripting will run virt install and it will go through create the template you'll end up with a cute cat to file and then as the last step in the Jenkins pipeline, you can push that off to an artifact
00:33:48 [W] It goes in spins up an agent as a pod with deaf KVM and then some scripting will run virt install and it will go through create the template you'll end up with a cute cat to file and then as
00:33:49 [W] And so you get this ci/cd pipeline of VM template Generation all running through Burnett.
00:33:59 [W] He's and so I found that so far to be super useful and a great way to automate VM template generation.
00:34:04 [W] So another thing that I found kubevirt useful for was to create my own personal development environments for kubenetes itself.
00:34:18 [W] I didn't want to always rely on my laptop and I didn't know who else might want to be using the same flows same workloads that I am using and I don't necessarily know if their Systems Support
00:34:30 [W] Virtualization and so I came up with this way of running a kubenetes cluster inside of kubernative using a virtual machine.
00:34:39 [W] So the way this works is if you imagine you have a kubenetes cluster to Target.
00:34:48 [W] that is Q Bert enabled you can actually create a VM and that VM can run kubernative and then you can Target that for all of your development purposes.
00:35:00 [W] This is super helpful. If in cases where you don't have minikube that can handle virtualization or you want to create a consistent repeatable process or even for like ci/cd type use cases.
00:35:10 [W] If you need a kubernative cluster not just for cube root development, but for any sort of kubernative development, this would be a good way to automatically get it kubernative cluster that you can play with using kubernative itself.
00:35:25 [W] So the idea was that I created a VM template that using cloud in it. I can actually trigger Cube ATM to
00:35:33 [W] install kubernative inside of the virtual machine.
00:35:37 [W] And so you deploy this VM template you use kubevirt to deploy the VM in your cluster and then you can Target it and you can do all of your development on it.
00:35:48 [W] So specifically for Kube virt development.
00:35:52 [W] Enable nested virtualization on the notes. Once you enable nested virtualization on those nodes, then your VMS can also host a VMS which means that these development kubernative clusters.
00:36:16 [W] Run cuber and you can run accelerated nested virtual machines inside of your custom development cluster.
00:36:26 [W] Another thing that I found really interesting is that I can actually deploy hypervisors with kubernetes using kubevirt VMS.
00:36:35 [W] And so as I mentioned I've been involved in virtual machine orchestration platforms for a number of years.
00:36:47 [W] And in order to develop on those platforms, you need environments that can be spun up easily and can be thrown away and rehashed and restarted.
00:36:52 [W] So kubernative is with kubevirt allows me to do this.
00:37:00 [W] The general pattern is that you would create your control plane and that we're all of you our satellite services as pods in my case.
00:37:10 [W] I set up the cloud stack management server is a pod and I fronted that with the service in Ingress and then you can deploy your hypervisors as virtual machines.
00:37:17 [W] And again, this is where the nested KVM really comes in handy. You can run virtual machines inside of those.
00:37:21 [W] As virtual hypervisors that you deploy and I've done all sorts of interesting experiments with these I've even run, you know vxlan tunnels over the pot networking and done some more advanced networking tests and things like that
00:37:36 [W] So I found it really helpful and interesting to be able to quickly get up.
00:37:43 [W] I providers and get cloudevents and Test new code and software and do different workflows and things like that in an automated way using kubernative.
00:37:53 [W] you know as far as other use cases that I could imagine people would want to do, you know, there could be situations where people require different operating systems, you know, they can't necessarily run inside the Linux kernel and they may have an appliance
00:38:08 [W] Provided by a vendor and it's in something they can run in a container. You could also use it as a stand-in for bare metal if someone is requesting a bare-metal host and they don't even really care about
00:38:25 [W] There's you can actually offer them a virtual machine instead.
00:38:35 [W] And so it really helps kind of goes back to that theme of consolidating all of you over compute infrastructure onto a single data center compute platform and Q Bert really enables that
00:38:45 [W] I wanted to finish off by talking about some tips that things that I've learned that I found useful as far as operating kubevirt and using kubevirt, and hopefully you'll find some of them useful too.
00:39:00 [W] The first one is regarding kubevirt test Suites.
00:39:05 [W] So if you look at the kubevirt code base, they're actually test functional tests that are in the code base that you can actually Target to a specific cluster.
00:39:14 [W] You can run it in a cluster and you can actually set it up.
00:39:18 [W] It's a Cron job inside the cluster and that would give you like a continuous feed as to whether or not whether or not Q Bert is working at any given moment and give you statistics on you know, how
00:39:30 [W] It's working.
00:39:33 [W] There's also a Prometheus and point in most of the kubevirt services that you can monitor.
00:39:38 [W] Another good one is to deploy the containerized data importer CDI.
00:39:46 [W] That's kind of a separate project still under the kubevirt.
00:39:49 [W] umbrella and it's geared towards importing data into persistent volumes.
00:39:55 [W] It adds a custom resource definition to kubernative call the data volume and you can provide a URL or you can provide an S3 and point and it will do the work of actually importing VM templates for use in to your kubernative cluster.
00:40:09 [W] Importer CDI, that's kind of a separate project still under the kubevirt.
00:40:16 [W] umbrella and it's geared towards importing data into persistent volumes.
00:40:16 [W] It adds a custom resource definition to kubernative.
00:40:17 [W] call the data volume and you can provide a URL or you can provide an S3 and point and it will do the work of actually importing VM templates for use in to your kubernative cluster.
00:40:18 [W] Another thing to consider is to beware of coredns.
00:40:19 [W] Quotas and IP use with the verb Handler because virt Handler is a demon set and because it doesn't use host networking.
00:40:25 [W] Every single node is another IP address that you may use up in your cluster.
00:40:36 [W] So if you have very large clusters and you're deploying virt Handler to every single node that may be a significant number of IP addresses used up in your cluster.
00:40:41 [W] And also you have to scale your quota if you have resource quotas for kubevirt.
00:40:56 [W] you have to make sure you scale your resource quotas to match the size of your cluster so that you can deploy all of the virt handlers that you need to and the last one.
00:40:58 [W] I think I mentioned several times that the actual device plug in the KTM device plug in that is provided by virt Handler can be used by itself.
00:41:08 [W] You can use it to create VM templates like I've shown
00:41:11 [W] Or you can use it for any other purpose that might require you to spin up a virtual machine manually.
00:41:17 [W] And I think that's all I had as far as tips.
00:41:24 [W] You know, there are so many things about Cube that I could adhere. It has so many different features, you know, there's GPU support and network virtual functions and different types of volumes and multiple Networks.
00:41:36 [W] Can adhere it has so many different features, you know, there's GPU support and network virtual functions and different types of volumes and multiple networks.
00:41:38 [W] They're different tweaks. You can do to the virtual hardware and there's even more coming.
00:41:46 [W] think that speaks to the diversity of the use cases and the teams and groups that are binding Hubert interesting out there and along those
00:41:54 [W] Those lines. I just want to thank the community for being open and providing feedback and answering questions and just being super helpful and welcoming in general. I also want to say
00:42:09 [W] The opportunity to speak to you as a group and to be able to share some of the things that I've learned and I really hope that one day I'll be able to watch your presentation and you know, you can tell me all the things that you've learned in all of the
00:42:25 [W] Watch your presentation, and you know, you can tell me all the things that you've learned in all of the features you've implemented in Qbert and the great experiences that you've had and I hope one day I get to meet you all in person
00:42:33 [W] It says that you've had and I hope one day I get to meet you all in person and a cube Khan in the future.
00:42:35 [W] That's it for now.
00:42:40 [W] and I think we're going to go to a Q&A session.
00:42:42 [W] Thanks.
00:42:42 [W] Can you hear me?
00:43:19 [W] You hear me?
00:43:22 [W] Okay, we can't hear Fabian.
00:43:23 [W] So we're just gonna we're pretty much out of time.
00:43:29 [W] So we were going to direct you we can talk about the questions in the slack Channel.
00:43:35 [W] I think your back Fabian as far as audio.
00:43:41 [W] Did you have any questions here that you wanted to cover before we move on to the slack?
00:43:44 [W] No, I think we've really run out of time.
00:43:53 [W] We can take it over to slack there were good questions, please join us in slack and we can continue answering them there.
00:43:55 [W] Thank you for the session Marcus. Thank you, and thanks everyone for coming.
00:43:58 [W] Indeed.
00:44:00 [W] Thank you very much folks.
00:44:01 [W] We're going to direct you we can talk about the questions in the slack Channel.
00:44:04 [W] I think your back Fabian as far as audio.
00:44:05 [W] Did you have any questions here that you wanted to cover before we move on to the slack?
